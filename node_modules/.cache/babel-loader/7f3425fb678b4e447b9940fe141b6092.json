{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useContext } from 'react';\nimport { ExpenseTrackerContext } from './context/context';\nimport { incomeCategories, expenseCategories, resetCategories } from './constants/categories';\n\nconst useTransactions = title => {\n  _s();\n\n  resetCategories();\n  const {\n    transactions\n  } = useContext(ExpenseTrackerContext);\n  const transactionsPerType = transactions.filter(t => t.type === title);\n  const total = transactionsPerType.reduce((acc, currVal) => acc += currVal.amount, 0);\n  const categories = title === 'Income' ? incomeCategories : expenseCategories; // console.log({ transactionsPerType, total, categories });\n\n  transactionsPerType.forEach(t => {\n    const category = categories.find(c => c.type === t.category);\n\n    if (category) {\n      category.amount += t.amount;\n    }\n  });\n  const filteredCategories = categories.filter(c => c.amount > 0);\n  const chartData = {\n    datasets: [{\n      data: filteredCategories.map(c => c.amount),\n      backgroundColor: filteredCategories.map(c => c.color),\n      radius: '85%',\n      hoverOffset: 20,\n      borderColor: 'black'\n    }],\n    labels: filteredCategories.map(c => c.type)\n  };\n  return {\n    filteredCategories,\n    total,\n    chartData\n  };\n};\n\n_s(useTransactions, \"Ni2LnfH2vyq3Bhy/VEUHhQfs92s=\");\n\nexport default useTransactions;","map":{"version":3,"names":["useContext","ExpenseTrackerContext","incomeCategories","expenseCategories","resetCategories","useTransactions","title","transactions","transactionsPerType","filter","t","type","total","reduce","acc","currVal","amount","categories","forEach","category","find","c","filteredCategories","chartData","datasets","data","map","backgroundColor","color","radius","hoverOffset","borderColor","labels"],"sources":["D:/PROJECTS/Expense-tracker/expense-tracker/src/useTransactions.js"],"sourcesContent":["import { useContext } from 'react';\r\nimport { ExpenseTrackerContext } from './context/context';\r\n\r\nimport {\r\n    incomeCategories,\r\n    expenseCategories,\r\n    resetCategories,\r\n} from './constants/categories';\r\n\r\nconst useTransactions = title => {\r\n    resetCategories();\r\n    const { transactions } = useContext(ExpenseTrackerContext);\r\n    const transactionsPerType = transactions.filter(t => t.type === title);\r\n    const total = transactionsPerType.reduce(\r\n        (acc, currVal) => (acc += currVal.amount),\r\n        0\r\n    );\r\n    const categories =\r\n        title === 'Income' ? incomeCategories : expenseCategories;\r\n\r\n    // console.log({ transactionsPerType, total, categories });\r\n\r\n    transactionsPerType.forEach(t => {\r\n        const category = categories.find(c => c.type === t.category);\r\n\r\n        if (category) {\r\n            category.amount += t.amount;\r\n        }\r\n    });\r\n\r\n    const filteredCategories = categories.filter(c => c.amount > 0);\r\n\r\n    const chartData = {\r\n        datasets: [\r\n            {\r\n                data: filteredCategories.map(c => c.amount),\r\n                backgroundColor: filteredCategories.map(c => c.color),\r\n                radius: '85%',\r\n                hoverOffset: 20,\r\n                borderColor: 'black',\r\n            },\r\n        ],\r\n        labels: filteredCategories.map(c => c.type),\r\n    };\r\n\r\n    return { filteredCategories, total, chartData };\r\n};\r\n\r\nexport default useTransactions;\r\n"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,qBAAT,QAAsC,mBAAtC;AAEA,SACIC,gBADJ,EAEIC,iBAFJ,EAGIC,eAHJ,QAIO,wBAJP;;AAMA,MAAMC,eAAe,GAAGC,KAAK,IAAI;EAAA;;EAC7BF,eAAe;EACf,MAAM;IAAEG;EAAF,IAAmBP,UAAU,CAACC,qBAAD,CAAnC;EACA,MAAMO,mBAAmB,GAAGD,YAAY,CAACE,MAAb,CAAoBC,CAAC,IAAIA,CAAC,CAACC,IAAF,KAAWL,KAApC,CAA5B;EACA,MAAMM,KAAK,GAAGJ,mBAAmB,CAACK,MAApB,CACV,CAACC,GAAD,EAAMC,OAAN,KAAmBD,GAAG,IAAIC,OAAO,CAACC,MADxB,EAEV,CAFU,CAAd;EAIA,MAAMC,UAAU,GACZX,KAAK,KAAK,QAAV,GAAqBJ,gBAArB,GAAwCC,iBAD5C,CAR6B,CAW7B;;EAEAK,mBAAmB,CAACU,OAApB,CAA4BR,CAAC,IAAI;IAC7B,MAAMS,QAAQ,GAAGF,UAAU,CAACG,IAAX,CAAgBC,CAAC,IAAIA,CAAC,CAACV,IAAF,KAAWD,CAAC,CAACS,QAAlC,CAAjB;;IAEA,IAAIA,QAAJ,EAAc;MACVA,QAAQ,CAACH,MAAT,IAAmBN,CAAC,CAACM,MAArB;IACH;EACJ,CAND;EAQA,MAAMM,kBAAkB,GAAGL,UAAU,CAACR,MAAX,CAAkBY,CAAC,IAAIA,CAAC,CAACL,MAAF,GAAW,CAAlC,CAA3B;EAEA,MAAMO,SAAS,GAAG;IACdC,QAAQ,EAAE,CACN;MACIC,IAAI,EAAEH,kBAAkB,CAACI,GAAnB,CAAuBL,CAAC,IAAIA,CAAC,CAACL,MAA9B,CADV;MAEIW,eAAe,EAAEL,kBAAkB,CAACI,GAAnB,CAAuBL,CAAC,IAAIA,CAAC,CAACO,KAA9B,CAFrB;MAGIC,MAAM,EAAE,KAHZ;MAIIC,WAAW,EAAE,EAJjB;MAKIC,WAAW,EAAE;IALjB,CADM,CADI;IAUdC,MAAM,EAAEV,kBAAkB,CAACI,GAAnB,CAAuBL,CAAC,IAAIA,CAAC,CAACV,IAA9B;EAVM,CAAlB;EAaA,OAAO;IAAEW,kBAAF;IAAsBV,KAAtB;IAA6BW;EAA7B,CAAP;AACH,CArCD;;GAAMlB,e;;AAuCN,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}